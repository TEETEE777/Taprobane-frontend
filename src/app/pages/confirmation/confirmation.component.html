<app-navbar></app-navbar>

<div class="page-wrapper" *ngIf="order">
  <div class="confirmation-container">
    <h2>Thank you for your order!</h2>
    <p>Your order has been successfully placed.</p>

    <div class="order-summary">
      <div class="order-item" *ngFor="let item of order.items">
        <img [src]="'http://localhost:3000' + item.image" alt="Product image" />
        <p>
          {{ item.name }} - {{ item.color || "Default" }} Ã— {{ item.quantity }}
        </p>
        <span>LKR {{ item.price * item.quantity }}</span>
      </div>

      <div class="summary-line">
        <p>Delivery Fee</p>
        <span>LKR {{ deliveryFee }}</span>
      </div>

      <div class="summary-line order-total">
        <p>Total</p>
        <span>LKR {{ order.total + deliveryFee }}</span>
      </div>
    </div>

    <div class="contact-info">
      <h3>Contact Information</h3>
      <p>
        <strong>Name:</strong> {{ order.delivery.firstName }}
        {{ order.delivery.lastName }}
      </p>
      <p><strong>Email:</strong> {{ order.delivery.email }}</p>
      <p><strong>Phone:</strong> +94 {{ order.delivery.phone }}</p>
      <p><strong>Address:</strong> {{ order.delivery.address }}</p>
    </div>

    <div class="payment-section">
      <h3>Select Payment Method</h3>
      <div class="payment-options">
        <img
          src="/assets/mcard.png"
          alt="Stripe"
          (click)="goToPayment('stripe')"
        />
        <img
          src="/assets/cod.png"
          alt="Cash on Delivery"
          (click)="goToPayment('cod')"
        />
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
